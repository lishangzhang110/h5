(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pack_monitors-monitors-sleep-index"],{"0e93":function(t,e,a){"use strict";var r=a("2a2d"),i=a.n(r);i.a},"176b":function(t,e,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.alertRulePatientRule=function(t){return(0,i.default)({url:"/his/alert-rule/patient-rule",params:t})},e.monitorPage=function(t){return(0,i.default)({url:"/his/patient-device-data/selectByPatientId",method:"get",params:t})};var i=r(a("0d07"))},"253b":function(t,e,a){var r=a("d1fd");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("967d").default;i("99ed1efe",r,!0,{sourceMap:!1,shadowMode:!1})},"26f6":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"warnning"})},i=[]},2739:function(t,e,a){"use strict";a("6a54");var r=a("3639").default,i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("fd3c"),a("64aa"),a("bf0f"),a("2797"),a("aa9c"),a("08eb"),a("18f7"),a("c223");var n=i(a("2634")),s=i(a("2fdc")),o=i(a("b7c7")),l=i(a("9b1b")),u=a("8f59"),c=r(a("9810")),d=i(a("6a0d")),p=i(a("f8ae")),f=a("22e7"),h=a("c8c1"),v=i(a("c3ae")),m=i(a("d128")),b={components:{CircleProgress:v.default,Warnning:p.default,lEchart:d.default},computed:(0,l.default)((0,l.default)((0,l.default)({},(0,u.mapGetters)(["currentDevice"])),(0,u.mapState)({detecting:function(t){return t.device.detecting}})),{},{userId:function(){return m.default.state.patientInfo.id}}),data:function(){return{iconType:1,data:[],date:[],tabActive:"1",upperLimit:"100",downLimit:"60",option:{},breathOption:{},brs:[],brsTimeSplits:[],sleepOption:{},sleepScoreOption:{},hrvOption:{},hrs:[],hrvTimeSplits:[],deepTime:[],lowTime:[],lightSleepDuration:0,deepSleepDuration:0,hasData:!1,fullReport:{},reportText:"",targetData:[{name:"睡眠总时长",jcz:0,unit:"小时",result:"",reference:">7"},{name:"深睡时长",jcz:0,unit:"分钟",result:"",reference:">60"},{name:"睡眠准备期",jcz:0,unit:"分钟",result:"",reference:"<40"},{name:"呼吸暂停指数",jcz:0,unit:"次/小时",result:"",reference:"≤5"},{name:"平均心率",jcz:0,unit:"bpm",result:"",reference:"45-70"},{name:"最低心率",jcz:0,unit:"bpm",result:"",reference:"≥35"},{name:"最高心率",jcz:0,unit:"bpm",result:"",reference:"≤80"},{name:"平均呼吸率",jcz:0,unit:"次",result:"",reference:"10-18"},{name:"翻身/体动",jcz:0,unit:"次",result:"",reference:"≤50"},{name:"HRV",jcz:0,unit:"",result:"",reference:"≥80"}]}},onLoad:function(){this.init()},methods:{parseTime:h.parseTime,getHourMinute:function(t){return Math.floor(t/60)+":"+t%60},startDetect:function(){this.$store.state.device.detecting||(this.$store.dispatch("setDetecting",!0),this.iconType=1,this.init(),this.$store.dispatch("setDetecting",!1))},init:function(t){var e=this;(0,f.getSleepDataList)({queryType:this.tabActive,detectDate:(0,h.parseTime)((new Date).getTime(),"{y}-{m}-{d} {h}:{i}:{s}"),userId:this.userId}).then((function(t){console.log(t),t&&t.data&&t.data.length>0&&("1"===e.tabActive?(e.hasData=!0,e.fullReport=t.data[0],e.fullReport.apneaData=JSON.parse(e.fullReport.apneaData),e.fullReport.rateData=JSON.parse(e.fullReport.rateData),e.fullReport.timeData=JSON.parse(e.fullReport.timeData),e.lightSleepDuration=e.fullReport.lightSleepDuration,e.deepSleepDuration=e.fullReport.deepSleepDuration,e.reportText="2025-08-19 22:20上床，22:45入睡， 06:27醒来， 总卧床时长为8小时47分钟， 睡眠时长为6小时24分钟。 其中，睡眠准备期为4小时4分钟， 深睡时长为0小时21分钟， 深睡占比为15.00%， 中间有0次离床。",e.initTargetData(),e.initSleepchart(),e.initSleepScoreChart(),e.brs=e.fullReport.rateData.brs,e.brsTimeSplits=e.fullReport.rateData.time_splits,e.hrs=e.fullReport.rateData.hrs,e.initBreathchart(),e.initHrvchart()):(e.data=t.data.map((function(t){return t.spo2})),e.date=t.data.map((function(t){return(0,h.parseTime)(t.collectTime,"{m}-{d}")}))))})).catch((function(t){}))},initTargetData:function(){var t=this.fullReport.rateData;this.targetData[0].jcz=(Number(this.fullReport.asleepDuration)/60).toFixed(1),this.fullReport.asleepDuration<=420&&(this.targetData[0].result=1),this.targetData[1].jcz=this.fullReport.deepSleepDuration,this.fullReport.deepSleepDuration<=60&&(this.targetData[1].result=1);var e=Number(this.fullReport.asleepDuration)-(Number(this.fullReport.deepSleepDuration)+Number(this.fullReport.lightSleepDuration)+Number(this.fullReport.awakeDuration));this.targetData[2].jcz=e,e>40&&(this.targetData[2].result=2),this.targetData[3].jcz=this.fullReport.apneaNum,this.fullReport.apneaNum>5&&(this.targetData[3].result=2);var a=0,r=0;t.hrs.forEach((function(t){r+=Number(t)})),a=r/t.hrs.length,this.targetData[4].jcz=a.toFixed(0),a.toFixed(0)<45?this.targetData[4].result=2:a.toFixed(0)>70&&(this.targetData[4].result=1);var i=Math.max.apply(Math,(0,o.default)(t.hrs));this.targetData[5].jcz=i,i<35&&(this.targetData[5].result=2);var n=Math.min.apply(Math,(0,o.default)(t.hrs));this.targetData[6].jcz=n,n>80&&(this.targetData[6].result=1);var s=0,l=0;t.brs.forEach((function(t){l+=Number(t)})),s=l/t.brs.length,this.targetData[7].jcz=s.toFixed(0),s.toFixed(0)<10?this.targetData[7].result=2:s.toFixed(0)>18&&(this.targetData[7].result=1),this.targetData[8].jcz=this.fullReport.reserve1,Number(this.fullReport.reserve1)>50&&(this.targetData[8].result=2),this.targetData[9].jcz=this.fullReport.anxietyIndex,Number(this.fullReport.anxietyIndex)<80&&(this.targetData[9].result=1)},changeTab:function(t){this.tabActive=t,"1"===t||("2"===t?this.initWeekOption():this.initMonthOption()),this.initEcharts()},initWeekOption:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.date=["周一","周二","周三","周四","周五","周六","周日"],t.deepTime=["7.12","8.00","6.24","5.50","6.48","7.10","5.00"],t.lowTime=["1.15","1.00","2.45","3.14","2.12","1.33","3.44"],t.option={tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},grid:{top:"8%",left:"3%",right:"3%",bottom:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.date},yAxis:{type:"value",min:0,max:10,boundaryGap:[0,"100%"]},series:[{name:"深睡",type:"line",smooth:!1,itemStyle:{normal:{color:"rgba(65, 150, 252, 1)"}},data:t.deepTime},{name:"浅睡",type:"line",smooth:!1,itemStyle:{normal:{color:"rgb(255, 70, 131)"}},data:t.lowTime}]};case 4:case"end":return e.stop()}}),e)})))()},initMonthOption:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=1;a<=31;a++)t.deepTime.push(Math.floor(7*Math.random())+1),t.lowTime.push(Math.floor(2*Math.random())+1);t.option={tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},grid:{top:"8%",left:"3%",right:"3%",bottom:"23%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:Array.from({length:31},(function(t,e){return e+1}))},yAxis:{type:"value",min:0,max:10,boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:0,end:30},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"深睡",type:"bar",smooth:!0,itemStyle:{normal:{barBorderRadius:[5,5,5,5],color:new c.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#00A179"},{offset:1,color:"#08EAFF"}])}},barWidth:"10",data:t.deepTime},{name:"浅睡",type:"bar",smooth:!0,itemStyle:{normal:{barBorderRadius:[5,5,5,5],color:new c.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#39DBFF"},{offset:1,color:"#34A6FF"}])}},barWidth:"10",data:t.lowTime}]};case 2:case"end":return e.stop()}}),e)})))()},initDailyOption:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.date=["00:00","04:00","08:00","12:00","16:00","20:00","24:00"],t.option={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return"睡眠阶段: ".concat(t[0].name,"<br/>\n                持续时间: ").concat(t[0].value,"小时")}},grid:{top:"10%",left:"3%",right:"3%",bottom:"5%",containLabel:!0},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}],xAxis:{type:"category",data:t.date,axisLabel:{formatter:function(t){return t}}},yAxis:{type:"category",data:["清醒","快速眼动","浅睡","深睡"],axisLine:{show:!0},axisTick:{show:!0}},series:[{name:"睡眠阶段",type:"bar",stack:"total",barWidth:"60%",itemStyle:{color:function(t){return{"清醒":"#FF6B6B","快速眼动":"#4ECDC4","浅睡":"#45B7D1","深睡":"#4D96FF"}[t.name]}},data:[{value:1.5,name:"清醒"},{value:2.3,name:"快速眼动"},{value:4.2,name:"浅睡"},{value:5.8,name:"深睡"},{value:1.2,name:"清醒"},{value:2.1,name:"快速眼动"},{value:3.5,name:"浅睡"}],label:{show:!0,position:"inside",formatter:"{b}"}}]};case 2:case"end":return e.stop()}}),e)})))()},initEcharts:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("initEcharts",t.option),e.next=3,t.$refs.chartRef.init(c);case 3:a=e.sent,a.setOption(t.option);case 5:case"end":return e.stop()}}),e)})))()},initTimechart:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("initTimeChart",t.breathOption),e.next=3,t.$refs.timechart.init(c);case 3:a=e.sent,a.setOption(t.breathOption);case 5:case"end":return e.stop()}}),e)})))()},initSleepScoreChart:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fullReport.bedDuration,t.fullReport.deepSleepDuration,t.fullReport.lightSleepDuration,t.fullReport.awakeDuration,t.sleepScoreOption={tooltip:{show:!1},legend:{show:!1},series:[{name:"睡眠分析",type:"pie",radius:["80%","90%"],avoidLabelOverlap:!1,silent:!0,label:{show:!0,formatter:"{b}: {c}",position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"},radius:["80%","90%"]},labelLine:{show:!1},data:[{value:t.fullReport.sleepScore,name:"睡眠评分",itemStyle:{color:"#40C3F6"}},{value:100-t.fullReport.sleepScore,itemStyle:{color:"#eee"}}]}]},console.log("sleepScoreOption",t.sleepScoreOption),e.next=8,t.$refs.sleepScoreChart.init(c);case 8:a=e.sent,a.setOption(t.sleepScoreOption);case 10:case"end":return e.stop()}}),e)})))()},initSleepchart:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a,r,i,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fullReport.bedDuration,a=t.fullReport.deepSleepDuration,r=t.fullReport.lightSleepDuration,i=t.fullReport.awakeDuration,t.sleepOption={tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"睡眠分析",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:i,name:"清醒时长"},{value:r,name:"浅睡时长"},{value:a,name:"深睡时长"}]}]},console.log("initSleepChart",t.sleepOption),e.next=8,t.$refs.sleepchart.init(c);case 8:s=e.sent,s.setOption(t.sleepOption);case 10:case"end":return e.stop()}}),e)})))()},initBreathchart:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.breathOption={tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},grid:{top:"8%",left:"3%",right:"3%",bottom:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.brsTimeSplits},yAxis:{type:"value",boundaryGap:[0,"100%"]},series:[{name:"呼吸率",type:"line",smooth:!0,symbol:"circle",lineStyle:{normal:{width:2,color:"rgba(64,195,246,1)"},borderColor:"rgba(0,0,0,.4)"},itemStyle:{color:"rgba(64,195,246,1)"},areaStyle:{normal:{color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64,195,246,.3)"},{offset:1,color:"rgba(64,195,246, 0)"}],!1),shadowColor:"rgba(64,195,246, 0.5)",shadowBlur:20}},data:t.brs}]},console.log("initBreathChart",t.breathOption),console.log(t.$refs),e.next=5,t.$refs.breathchart.init(c);case 5:a=e.sent,a.setOption(t.breathOption);case 7:case"end":return e.stop()}}),e)})))()},initHrvchart:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hrvOption={tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},grid:{top:"8%",left:"3%",right:"3%",bottom:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.hrvTimeSplits},yAxis:{type:"value",boundaryGap:[0,"100%"]},series:[{name:"心率",type:"line",smooth:!0,symbol:"circle",lineStyle:{normal:{width:2,color:"rgba(64,195,246,1)"},borderColor:"rgba(0,0,0,.4)"},itemStyle:{color:"rgba(64,195,246,1)"},areaStyle:{normal:{color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64,195,246,.3)"},{offset:1,color:"rgba(64,195,246, 0)"}],!1),shadowColor:"rgba(64,195,246, 0.5)",shadowBlur:20}},data:t.hrs}]},console.log("initHrvChart",t.hrvOption),e.next=4,t.$refs.hrvchart.init(c);case 4:a=e.sent,a.setOption(t.hrvOption);case 6:case"end":return e.stop()}}),e)})))()}}};e.default=b},"2a2d":function(t,e,a){var r=a("dc55");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("967d").default;i("5171bea0",r,!0,{sourceMap:!1,shadowMode:!1})},"5bba":function(t,e,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("2634")),n=r(a("2fdc"));a("64aa"),a("bf0f"),a("5c47");var s={props:{percentage:{type:Number,default:0},showPercent:{type:Boolean,default:!0},diameter:{type:Number,default:100},lineWidth:{type:Number,default:12},strokeColor:{type:String,default:"#E2E2E2"},startColor:{type:String,default:"#1FEFC4"},endColor:{type:String,default:"#01BE8C"},canvasId:{type:String,default:"progressCanvas"},text:{type:String,default:""}},data:function(){return{currentPercentage:0,ctx:null,systemInfo:null,realDiameter:0,realLineWidth:0}},mounted:function(){var t=this;this.systemInfo=uni.getSystemInfoSync(),this.$nextTick((function(){t.initCanvas(),t.animateProgress()}))},methods:{initCanvas:function(){var t=this;return(0,n.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.systemInfo.pixelRatio||1,t.realDiameter=t.diameter*a,t.realLineWidth=t.lineWidth*a,t.ctx=uni.createCanvasContext(t.canvasId,t),t.setCanvasSize();case 5:case"end":return e.stop()}}),e)})))()},setCanvasSize:function(){var t=this;return new Promise((function(e){var a=uni.createSelectorQuery().in(t);a.select("#".concat(t.canvasId)).fields({node:!0,size:!0}).exec((function(a){if(a[0]&&a[0].node){var r=a[0].node;r.width=t.realDiameter,r.height=t.realDiameter,e(!0)}else console.warn("无法获取Canvas节点，使用备用方案"),t.realDiameter=t.diameter,t.realLineWidth=t.lineWidth,e(!1)}))}))},drawBaseCircle:function(){var t=this.realDiameter/2,e=(this.realDiameter-this.realLineWidth)/2;this.ctx.setStrokeStyle(this.strokeColor),this.ctx.setLineWidth(this.realLineWidth),this.ctx.beginPath(),this.ctx.arc(t,t,e,0,2*Math.PI),this.ctx.stroke()},drawProgress:function(t){var e=this.realDiameter/2,a=(this.realDiameter-this.realLineWidth)/2;this.ctx.clearRect(0,0,this.realDiameter,this.realDiameter),this.drawBaseCircle();var r=this.ctx.createLinearGradient(0,e,0,this.realDiameter);r.addColorStop(0,this.startColor),r.addColorStop(1,this.endColor),this.ctx.setStrokeStyle(r),this.ctx.setLineCap("round"),this.ctx.beginPath(),this.ctx.arc(e,e,a,-Math.PI/2,2*Math.PI*t/100-Math.PI/2),this.ctx.stroke(),this.ctx.draw(!0)},animateProgress:function(){var t=this;(function e(){t.currentPercentage<=t.percentage&&(t.currentPercentage=Math.min(t.currentPercentage+1,t.percentage),t.drawProgress(t.currentPercentage),setTimeout(e,16))})()}}};e.default=s},"6a4c":function(t,e,a){var r=a("d1ff");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("967d").default;i("7f5b0ca1",r,!0,{sourceMap:!1,shadowMode:!1})},"7af9":function(t,e,a){"use strict";a.r(e);var r=a("fda9"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"8a58":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"run_box"},[a("warnning"),a("div",{staticClass:"run_msg"},[a("v-uni-view",{staticClass:"run_data"},[a("div",{staticClass:"run_num"},[a("div",[a("span",{staticClass:"num_name"},[t._v("睡眠时长 ")]),a("span",{staticClass:"color111111"},[t._v(t._s(t.fullReport.asleepDuration>0?Math.floor(t.fullReport.asleepDuration/60):0))]),t._v(" 小时"),a("span",{staticClass:"color111111"},[t._v(t._s(t.fullReport.asleepDuration>0?t.fullReport.asleepDuration%60:0))]),t._v("分钟 ")]),a("div",[a("span",{staticClass:"num_name"},[t._v("呼吸暂停 ")]),a("span",{staticClass:"colorFE404D"},[t._v(t._s(t.fullReport&&t.fullReport.apneaData&&t.fullReport.apneaData.lens?t.fullReport.apneaData.lens.length:0))]),t._v(" 次 ")]),a("div",[a("span",{staticClass:"num_name"},[t._v("浅睡 ")]),a("span",{staticClass:"color111111"},[t._v(t._s(t.lightSleepDuration>0?Math.floor(t.lightSleepDuration/60):0))]),t._v(" 小时"),a("span",{staticClass:"color111111"},[t._v(t._s(t.lightSleepDuration>0?t.lightSleepDuration%60:0))]),t._v("分钟 ")]),a("div",[a("span",{staticClass:"num_name"},[t._v("深睡 ")]),a("span",{staticClass:"color111111"},[t._v(t._s(t.deepSleepDuration>0?Math.floor(t.deepSleepDuration/60):0))]),t._v(" 小时"),a("span",{staticClass:"color111111"},[t._v(t._s(t.deepSleepDuration>0?t.deepSleepDuration%60:0))]),t._v(" 分钟 ")])]),a("div",{staticClass:"run_icon_box"},[a("div",{staticClass:"run_icon"}),t.changeShow()?a("div",{staticClass:"set_btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.startDetect.apply(void 0,arguments)}}},[t.detecting?a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/childImg/load_gif.gif",alt:""}}):a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/childImg/load_icon.png",alt:""}}),a("span",[t._v(t._s(t.detecting?"更新中...":"更新数据"))])]):t._e()])])],1),a("div",{staticClass:"run_msg"},["1"!==t.tabActive?a("div",{staticClass:"echart_box"},[a("l-echart",{ref:"chartRef",on:{finished:function(e){arguments[0]=e=t.$handleEvent(e),t.initEcharts.apply(void 0,arguments)}}})],1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"1"===t.tabActive&&!!t.fullReport.sn,expression:"tabActive === '1' && !!fullReport.sn"}]},[a("v-uni-view",{staticClass:"report-item"}),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("睡眠时间")]),a("v-uni-view",{staticClass:"echart_box sleep-time"},[a("v-uni-view",{staticClass:"sleep-time-grid sleep-time-left"},[a("v-uni-view",{staticClass:"sleep-time-item"},[a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/sleep/scsj.png"}}),a("v-uni-text",[t._v("上床时间")]),a("v-uni-text",[t._v(t._s(t.fullReport&&t.parseTime(t.fullReport.goToBedTime,"{h}:{m}")))])],1),a("v-uni-view",{staticClass:"sleep-time-item"},[a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/sleep/qcsj.png"}}),a("v-uni-text",[t._v("起床时间")]),a("v-uni-text",[t._v(t._s(t.fullReport&&t.parseTime(t.fullReport.getupTime,"{h}:{m}")))])],1)],1),a("v-uni-view",{staticClass:"sleep-time-grid sleep-time-center"},[a("l-echart",{ref:"sleepScoreChart",staticClass:"sleep-score-chart",on:{finished:function(e){arguments[0]=e=t.$handleEvent(e),t.initSleepScoreChart.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"sleep-time-grid sleep-time-right"},[a("v-uni-view",{staticClass:"sleep-time-item"},[a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/sleep/wcsj.png"}}),a("v-uni-text",[t._v("卧床时间")]),a("v-uni-text",[t._v(t._s(t.fullReport&&t.getHourMinute(t.fullReport.bedDuration)))])],1),a("v-uni-view",{staticClass:"sleep-time-item"},[a("img",{attrs:{src:"https://app.hqhis.com/cdn/images/monitor/sleep/smsc.png"}}),a("v-uni-text",[t._v("睡眠时长")]),a("v-uni-text",[t._v(t._s(t.fullReport&&t.getHourMinute(t.fullReport.asleepDuration)))])],1)],1)],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("睡眠分析")]),a("v-uni-view",{staticClass:"echart_box"},[a("v-uni-view",{staticClass:"sleep-analysis"},[a("v-uni-view",{staticClass:"sleep-analysis-chart"},[a("l-echart",{ref:"sleepchart",on:{finished:function(e){arguments[0]=e=t.$handleEvent(e),t.initSleepchart.apply(void 0,arguments)}}})],1)],1)],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("呼吸数据")]),a("v-uni-view",{staticClass:"echart_box"},[a("l-echart",{ref:"breathchart",on:{finished:function(e){arguments[0]=e=t.$handleEvent(e),t.initBreathchart.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("呼吸健康")]),a("v-uni-view",{staticClass:"echart_box breath-health-box"},[a("v-uni-view",{staticClass:"breath-progress"}),a("v-uni-view",{staticClass:"breath-slider"},[a("v-uni-view",{staticClass:"breath-slider-item",staticStyle:{"padding-left":"calc(100% - 80rpx)"}},[a("v-uni-text",[t._v(t._s(t.fullReport&&t.fullReport.respirationScore))])],1)],1),a("v-uni-view",{staticClass:"breath-splits"}),a("v-uni-view",{staticClass:"breath-items"},[a("v-uni-view",{staticClass:"breath-item"},[a("v-uni-text",[t._v(t._s(t.fullReport&&t.fullReport.apneaNum)+"次")]),a("v-uni-text",[t._v("呼吸暂停")])],1),a("v-uni-view",{staticClass:"breath-item"},[a("v-uni-text",[t._v(t._s(t.fullReport&&t.fullReport.apneaDurationMax)+"秒")]),a("v-uni-text",[t._v("最长呼吸暂停")])],1),a("v-uni-view",{staticClass:"breath-item"},[a("v-uni-text",[t._v(t._s(t.fullReport&&t.fullReport.apneaDurationAverage)+"秒")]),a("v-uni-text",[t._v("平均呼吸暂停")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("心率数据")]),a("v-uni-view",{staticClass:"echart_box"},[a("l-echart",{ref:"hrvchart",on:{finished:function(e){arguments[0]=e=t.$handleEvent(e),t.initHrvchart.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("焦虑指数")]),a("v-uni-view",{staticClass:"echart_box ahi-box"},[a("v-uni-view",{staticClass:"ahi-slider"},[a("v-uni-view",{staticClass:"ahi-slider-item",style:{"padding-left":t.fullReport.anxietyIndex/150*100+"%"}},[a("v-uni-text",[t._v("HRV "+t._s(t.fullReport&&t.fullReport.anxietyIndex))])],1)],1),a("v-uni-view",{staticClass:"ahi-progress"}),a("v-uni-view",{staticClass:"ahi-splits"},t._l(6,(function(e,r){return a("v-uni-text",{key:r},[t._v(t._s(30*e))])})),1),a("v-uni-view",{staticClass:"ahi-items"},[a("v-uni-view",{staticClass:"ahi-item"},[a("v-uni-text",[t._v("焦虑")])],1),a("v-uni-view",{staticClass:"ahi-item"},[a("v-uni-text",[t._v("愉悦")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"report-item"},[a("v-uni-text",{staticClass:"report_title"},[t._v("健康指标")]),a("v-uni-view",{staticClass:"result_box"},t._l(t.targetData,(function(e,r){return a("v-uni-view",{staticClass:"result-item"},[a("v-uni-view",{staticClass:"result-item-name"},[a("v-uni-text",[t._v(t._s(e.name))])],1),a("v-uni-view",{staticClass:"result-item-value"},[a("v-uni-text",[t._v(t._s(e.jcz)+t._s(e.unit))])],1),a("v-uni-view",{staticClass:"result-item-result"},[a("v-uni-text",[t._v(t._s(2===e.result?"↑":0===e.result?"":"↓"))])],1),a("v-uni-view",{staticClass:"result-item-reference"},[a("v-uni-text",[t._v(t._s(e.reference))])],1)],1)})),1)],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"1"===t.tabActive&&!t.fullReport.sn,expression:"tabActive === '1' && !fullReport.sn"}],staticStyle:{"text-align":"center","line-height":"20vh"}},[t._v(" 暂无数据 ")])],1)],1)},i=[]},b49c:function(t,e,a){"use strict";var r=a("6a4c"),i=a.n(r);i.a},b687:function(t,e,a){"use strict";a.r(e);var r=a("8a58"),i=a("d746");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("b49c");var s=a("828b"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"5dfeb2ec",null,!1,r["a"],void 0);e["default"]=o.exports},c3ae:function(t,e,a){"use strict";a.r(e);var r=a("ed1b"),i=a("cd96");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("e071");var s=a("828b"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"6a01b200",null,!1,r["a"],void 0);e["default"]=o.exports},cd96:function(t,e,a){"use strict";a.r(e);var r=a("5bba"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},d128:function(t,e,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("aa77");var i=r(a("2634")),n=r(a("2fdc")),s=r(a("9b8e")),o=a("176b"),l=[{prop:"heartRate",label:"心率",ruleType:1},{prop:"bloodOxygen",label:"血氧",ruleType:2},{prop:"bloodSugar",label:"血糖",ruleType:3},{prop:"temperature",label:"体温",ruleType:4},{prop:"systolicPressure",label:"收缩压",ruleType:5},{prop:"diastolicPressure",label:"舒张压",ruleType:6}],u=s.default.observable({patientWarnRule:{},patientInfo:{}}),c={setPatientInfo:function(t){u.patientInfo=t},getPatientWarnRule:function(){return(0,n.default)((0,i.default)().mark((function t(){var e,a,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.patientInfo.patientId,t.next=3,(0,o.alertRulePatientRule)({patientId:e});case 3:return a=t.sent,r={},l.forEach((function(t){r[t.prop]=a.data.find((function(e){return e.ruleType==t.ruleType}))||{}})),u.patientWarnRule=r,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()}},d={state:u,mutations:c};e.default=d},d1fd:function(t,e,a){var r=a("c86c");e=r(!1),e.push([t.i,".progress-box[data-v-6a01b200]{position:relative;display:inline-flex;justify-content:center;align-items:center}.progress-text[data-v-6a01b200]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:14px;color:#333;font-weight:700}.progress-canvas[data-v-6a01b200]{display:block}",""]),t.exports=e},d1ff:function(t,e,a){var r=a("c86c");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.run_box[data-v-5dfeb2ec]{width:100%;height:100vh;background:linear-gradient(180deg,#3ecebf 0,#f7f7f7 30%,#f8f8f8);padding:0 %?20?% env(safe-area-inset-bottom);overflow-y:auto}.run_box .run_msg[data-v-5dfeb2ec]{width:100%;background:#fff;margin-top:%?20?%;border-radius:%?16?%;padding-bottom:%?20?%;display:flex;flex-direction:column}.run_box .run_msg .run_title[data-v-5dfeb2ec]{width:100%;padding:%?20?% %?20?%;font-size:%?32?%;font-weight:700;color:#000;display:flex;align-items:center;justify-content:space-between}.run_box .run_msg .run_title .line[data-v-5dfeb2ec]{display:inline-block;width:%?8?%;height:%?30?%;background:#4196fc;position:absolute;left:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.run_box .run_msg .run_title .reset_img[data-v-5dfeb2ec]{width:%?44?%;height:%?44?%}.run_box .run_msg .run_title div[data-v-5dfeb2ec]{display:flex;align-items:center;font-weight:400;color:#666}.run_box .run_msg .blood_type[data-v-5dfeb2ec]{width:80%;height:%?68?%;margin:%?20?% auto;display:flex;align-items:center;background:#f5f6f9;border-radius:%?16?%;padding:0 %?2?%}.run_box .run_msg .blood_type span[data-v-5dfeb2ec]{width:calc(100% / 3);height:%?64?%;text-align:center;line-height:%?64?%;font-size:%?28?%;color:#666}.run_box .run_msg .blood_type .btnActive[data-v-5dfeb2ec]{background:#fff;color:#14b481;border-radius:%?16?%}.run_box .run_msg .run_data[data-v-5dfeb2ec]{height:0;flex:1;width:100%;display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?40?%}.run_box .run_msg .run_data .run_icon_box .run_icon[data-v-5dfeb2ec]{width:%?230?%;height:%?108?%;background:url(https://app.hqhis.com/cdn/images/monitor/childImg/xinlv.png) 50% no-repeat;background-size:100% 100%}.run_box .run_msg .run_data .run_icon_box .set_btn[data-v-5dfeb2ec]{width:%?200?%;height:%?64?%;background:linear-gradient(242deg,#56bcb6,#72d2b0);border-radius:%?86?% %?86?% %?86?% %?86?%;display:flex;align-items:center;justify-content:center;color:#fff;margin:%?10?% auto 0}.run_box .run_msg .run_data .run_icon_box .set_btn img[data-v-5dfeb2ec]{width:%?32?%;height:%?32?%;margin-right:%?10?%}.run_box .run_msg .run_data .run_num .tip[data-v-5dfeb2ec]{color:#666;font-size:%?26?%;margin-top:%?20?%}.run_box .run_msg .run_data .run_num span[data-v-5dfeb2ec]{font-size:%?60?%;font-weight:700;color:#333}.run_box .run_msg .run_data .run_num .num_name[data-v-5dfeb2ec]{font-weight:400;font-size:%?30?%;color:#333}.run_box .run_msg .run_data .run_num .colorFE404D[data-v-5dfeb2ec]{color:#fe404d!important;margin:0 %?10?%}.run_box .run_msg .run_data .run_num .color111111[data-v-5dfeb2ec]{color:#111!important;margin:0 %?10?%}.run_box .run_msg .echart_box[data-v-5dfeb2ec]{width:100%;padding:%?20?%;height:%?500?%}.run_box .run_msg .echart_box.sleep-time[data-v-5dfeb2ec]{display:flex;justify-content:space-between}.run_box .run_msg .echart_box.sleep-time .sleep-time-grid[data-v-5dfeb2ec]{width:20%}.run_box .run_msg .echart_box.sleep-time .sleep-time-grid.sleep-time-center[data-v-5dfeb2ec]{width:50%}.run_box .run_msg .echart_box.sleep-time .sleep-time-item[data-v-5dfeb2ec]{height:50%;display:flex;flex-direction:column;align-items:center}.run_box .run_msg .echart_box.sleep-time .sleep-time-item img[data-v-5dfeb2ec]{width:%?80?%;height:%?80?%}.run_box .run_msg .echart_box.breath-health-box[data-v-5dfeb2ec]{height:%?260?%}.run_box .run_msg .echart_box.breath-health-box .breath-progress[data-v-5dfeb2ec]{height:%?40?%;border-radius:20px;background:linear-gradient(90deg,#ee9d9c 0,#f5f7f6 50%,#91ddf5)!important;position:relative}.run_box .run_msg .echart_box.breath-health-box .breath-items[data-v-5dfeb2ec]{padding:%?30?%;display:flex;justify-content:space-between}.run_box .run_msg .echart_box.breath-health-box .breath-items .breath-item[data-v-5dfeb2ec]{display:flex;flex-direction:column;align-items:center}.run_box .run_msg .echart_box.ahi-box[data-v-5dfeb2ec]{height:%?260?%}.run_box .run_msg .echart_box.ahi-box .ahi-progress[data-v-5dfeb2ec]{height:%?40?%;border-radius:20px;background:linear-gradient(90deg,#ee9d9c 0,#f5f7f6 50%,#91ddf5)!important;position:relative}.run_box .run_msg .echart_box.ahi-box .ahi-splits[data-v-5dfeb2ec]{display:flex;justify-content:space-between}.run_box .run_msg .echart_box.ahi-box .ahi-items[data-v-5dfeb2ec]{padding:%?30?%;display:flex;justify-content:space-between}.run_box .run_msg .result_box[data-v-5dfeb2ec]{width:100%;padding:%?20?%}.run_box .run_msg .result_box .result-item[data-v-5dfeb2ec]{display:flex;justify-content:space-between}.run_box .run_msg .result_box .result-item uni-view[data-v-5dfeb2ec]{padding:%?10?%}.run_box .run_msg .result_box .result-item .result-item-name[data-v-5dfeb2ec]{width:30%}.run_box .run_msg .result_box .result-item .result-item-value[data-v-5dfeb2ec]{width:30%}.run_box .run_msg .result_box .result-item .result-item-result[data-v-5dfeb2ec]{width:10%}.run_box .run_msg .result_box .result-item .result-item-reference[data-v-5dfeb2ec]{width:20%}.run_box .run_msg .report-item .report_title[data-v-5dfeb2ec]{font-size:%?36?%;padding:0 %?20?%}.run_box .run_msg .report-item .report_text[data-v-5dfeb2ec]{font-size:%?30?%;padding:0 %?30?%}',""]),t.exports=e},d746:function(t,e,a){"use strict";a.r(e);var r=a("2739"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},dc55:function(t,e,a){var r=a("c86c");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.warnning[data-v-566726ff]{color:#e43d33}',""]),t.exports=e},e071:function(t,e,a){"use strict";var r=a("253b"),i=a.n(r);i.a},ed1b:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"progress-box"},[a("v-uni-canvas",{staticClass:"progress-canvas",style:{width:t.diameter+"px",height:t.diameter+"px"},attrs:{smooth:"true",id:t.canvasId,"canvas-id":t.canvasId,"force-use-old-canvas":"true"}}),a("v-uni-view",{staticClass:"progress-text"},[a("v-uni-view",[t._v(t._s(t.currentPercentage)),t.showPercent?a("v-uni-text",[t._v("%")]):t._e()],1),t.text?a("v-uni-view",[t._v(t._s(t.text))]):t._e()],1)],1)},i=[]},f8ae:function(t,e,a){"use strict";a.r(e);var r=a("26f6"),i=a("7af9");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("0e93");var s=a("828b"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"566726ff",null,!1,r["a"],void 0);e["default"]=o.exports},fda9:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{}},methods:{clickBannerItem:function(t){console.info(t)},changeSwiper:function(t){this.current=t.detail.current},changeGrid:function(t){console.log(t),this.$tab.navigateTo("/pack_monitors/pages/".concat(t,"/index"))}}};e.default=r}}]);