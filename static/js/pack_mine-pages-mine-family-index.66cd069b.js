(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pack_mine-pages-mine-family-index"],{"0d43":function(a,t,e){var i=e("c86c");t=i(!1),t.push([a.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.family_box[data-v-6a53ab15]{width:100%;height:100vh;padding-bottom:env(safe-area-inset-bottom);background-color:#f4f6f6;padding-top:%?20?%}.family_box .add_box[data-v-6a53ab15]{width:calc(100% - %?40?%);height:%?140?%;background:#fff;border-radius:%?16?%;margin:0 auto;display:flex;align-items:center}.family_box .add_box .add_family[data-v-6a53ab15]{width:%?84?%;height:%?84?%;margin-left:%?30?%}.family_box .add_box .add_tip[data-v-6a53ab15]{height:%?86?%;display:flex;flex-direction:column;justify-content:space-between;font-size:%?30?%;color:#666;margin-left:%?20?%}.family_box .add_box .add_tip .content1[data-v-6a53ab15]{font-size:%?34?%;color:#111;font-weight:700}.family_box .family_list[data-v-6a53ab15]{width:100%;padding:%?20?%;max-height:calc(100% - %?110?%);overflow-y:auto}.family_box .family_list .family_type[data-v-6a53ab15]{width:100%;padding:%?20?%;background:#fff;border-radius:%?20?%;display:flex;align-items:center;box-sizing:border-box;margin-bottom:%?20?%}.family_box .family_list .family_type .family_pic[data-v-6a53ab15]{width:%?108?%;height:%?108?%;border-radius:50%}.family_box .family_list .family_type .family_msg[data-v-6a53ab15]{height:%?108?%;flex:1;margin-left:%?20?%;display:flex;flex-direction:column;justify-content:space-around;position:relative}.family_box .family_list .family_type .family_msg .del_btn[data-v-6a53ab15]{position:absolute;right:%?0?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:%?114?%;height:%?56?%;text-align:center;line-height:%?56?%;border-radius:%?76?% %?76?% %?76?% %?76?%;border:%?2?% solid #d9d9d9;color:#616161;font-size:%?26?%}.family_box .family_list .family_type .family_msg .family_name[data-v-6a53ab15]{font-size:%?34?%;color:#111;display:flex;align-items:center;font-weight:700}.family_box .family_list .family_type .family_msg .family_name .status_box[data-v-6a53ab15]{font-weight:400;background:#e8fbfa;padding:%?4?% %?14?%;font-size:%?24?%;color:#259e92;border-radius:%?8?% %?8?% %?8?% %?8?%;margin-left:%?10?%}.family_box .family_list .family_type .family_msg .family_phone[data-v-6a53ab15]{color:#666;font-size:%?30?%}',""]),a.exports=t},"1f01":function(a,t,e){"use strict";e.r(t);var i=e("f764"),n=e("d7c3");for(var l in n)["default"].indexOf(l)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(l);e("3238");var o=e("828b"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6a53ab15",null,!1,i["a"],void 0);t["default"]=s.exports},2053:function(a,t,e){var i=e("0d43");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var n=e("967d").default;n("d618b4c0",i,!0,{sourceMap:!1,shadowMode:!1})},3238:function(a,t,e){"use strict";var i=e("2053"),n=e.n(i);n.a},"5eff":function(a,t,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=function(a){return(0,n.default)({url:"/his/patient-family/create",method:"post",data:a})},t.delPage=function(a){return(0,n.default)({url:"/his/patient-family/delete",method:"delete",params:a})},t.detailPage=function(a){return(0,n.default)({url:"/his/patient-family/get",method:"get",params:a})},t.editPage=function(a){return(0,n.default)({url:"/his/patient-family/update",method:"put",data:a})},t.getPage=function(a){return(0,n.default)({url:"/his/patient-family/page",method:"get",params:a})};var n=i(e("0d07"))},c419:function(a,t,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("bf0f"),e("2797"),e("aa9c"),e("4100");var n=e("5eff"),l=i(e("6eb5")),o={data:function(){return{baseUrl:l.default.baseUrl,tableData:[],patientName:""}},onShow:function(){this.patientName=this.$store.state.user.mobile,this.handlePage()},methods:{handlePage:function(){var a=this;(0,n.getPage)({patientId:this.$store.state.user.patientId}).then((function(t){a.tableData=t.data?t.data:[]}))},handleDict:function(){var a=this;listData({dictType:"his_relation_type"}).then((function(t){var e=[];t.data.list.forEach((function(a){e.push({text:a.label,value:a.value,sort:a.sort})})),a.dict.relationList=e.sort((function(a,t){return a.sort-t.sort}))}))},handleDelete:function(a){var t=this;uni.showModal({title:"提示",content:"你确定了从家庭成员中移除此人吗？",success:function(e){e.confirm?(0,n.delPage)({id:a.id}).then((function(a){uni.showToast({title:"移除成功！",icon:"success",duration:2e3}),t.handlePage()})):e.cancel}})},handlePhone:function(a){return a?a.substring(0,4)+"****"+a.substring(a.length-4):"--"},scrolltolower:function(){},handleAdd:function(a){uni.navigateTo({url:"./add?itemId=".concat(a)})},handleDetail:function(){uni.navigateTo({url:"/pack_mine/pages/mine/info/edit"})}}};t.default=o},d7c3:function(a,t,e){"use strict";e.r(t);var i=e("c419"),n=e.n(i);for(var l in i)["default"].indexOf(l)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(l);t["default"]=n.a},f764:function(a,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return n})),e.d(t,"a",(function(){}));var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"family_box"},[e("v-uni-view",{staticClass:"add_box",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.handleAdd("")}}},[e("img",{staticClass:"add_family",attrs:{src:"https://app.hqhis.com/cdn/images/newui/mine/add_family.png",alt:""}}),e("v-uni-view",{staticClass:"add_tip"},[e("v-uni-view",{staticClass:"content1"},[a._v("+添加亲友成员")]),e("v-uni-view",[a._v("随时关注自己/亲友的健康")])],1)],1),e("v-uni-view",{staticClass:"family_list"},a._l(a.tableData,(function(t,i){return e("v-uni-view",{key:i,staticClass:"family_type",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.patientName!=t.phoneNumber?a.handleAdd(t.id):a.handleDetail(t)}}},[t.avatar?e("img",{staticClass:"family_pic",attrs:{src:a.baseUrl+t.avatar,alt:""}}):e("img",{staticClass:"family_pic",attrs:{src:"https://app.hqhis.com/cdn/images/newui/mine/head_img.png",alt:""}}),e("v-uni-view",{staticClass:"family_msg"},[e("v-uni-view",{staticClass:"family_name"},[a._v(" "+a._s(t.name)+" "),a.patientName==t.phoneNumber?e("v-uni-text",{staticClass:"status_box"},[a._v("本人")]):a._e()],1),e("v-uni-view",{staticClass:"family_phone"},[a._v(" "+a._s(a.handlePhone(t.phoneNumber))+" ")]),a.patientName!=t.phoneNumber?e("v-uni-view",{staticClass:"del_btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.handleDelete(t)}}},[a._v(" 删除 ")]):a._e()],1)],1)})),1)],1)},n=[]}}]);