(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-monitor-health-detail"],{1044:function(t,e,i){"use strict";i.r(e);var a=i("4ac9"),n=i("78967");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("3922");var d=i("828b"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"60115dc6",null,!1,a["a"],void 0);e["default"]=s.exports},2152:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.CollectPage=function(t){return(0,n.default)({url:"/his/study/app/pick/page",method:"get",params:t})},e.RecordPage=function(t){return(0,n.default)({url:"/his/study/app/view/page",method:"get",params:t})},e.detailPage=function(t,e){return(0,n.default)({url:"/his/study/app/get/".concat(t),method:"get",params:e})},e.getPage=function(t){return(0,n.default)({url:"/his/study/app/video/page",method:"get",params:t})},e.getVideoNameCount=function(t){return(0,n.default)({url:"/his/study/app/getVideoNameCount",method:"get",params:t})},e.likePage=function(t){return(0,n.default)({url:"/his/study/app/like",method:"post",data:t})},e.pickPage=function(t){return(0,n.default)({url:"/his/study/app/pick",method:"post",data:t})},e.studyPage=function(t){return(0,n.default)({url:"/his/study/app/view",method:"post",data:t})};var n=a(i("2daf"))},3922:function(t,e,i){"use strict";var a=i("c9f5"),n=i.n(a);n.a},"4ac9":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video_box"},[i("div",{staticClass:"video_data"},[i("v-uni-video",{staticClass:"video_tag",attrs:{id:"myVideo",src:t.baseUrl+t.formData.videoUrl,controls:!0,"object-fit":"cover"},on:{ended:function(e){arguments[0]=e=t.$handleEvent(e),t.handleEnded.apply(void 0,arguments)},timeupdate:function(e){arguments[0]=e=t.$handleEvent(e),t.handleTimeUpdate.apply(void 0,arguments)}}})],1),i("div",{staticClass:"title_name"},[t._v(t._s(t.formData.videoName||""))]),i("div",{staticClass:"icon_box"},[i("div",{staticClass:"icon_item"},[i("v-uni-view",{staticClass:"iconfont2 icon-eye icon"}),t._v(" "+t._s(t.formData.viewNumber||0)+" ")],1),i("div",{staticClass:"set_icon_item"},[i("span",[i("v-uni-view",{staticClass:"iconfont2 icon-praise icon",style:t.pariseIsShow?"color:blue":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleParise.apply(void 0,arguments)}}}),t._v(t._s(t.formData.likeNumber||0))],1),i("span",[i("v-uni-view",{staticClass:"iconfont2 icon-collect icon",style:t.collectIsShow?"color:blue":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCollect.apply(void 0,arguments)}}}),t._v(t._s(t.formData.pickNumber||0))],1)])])])},n=[]},"6dd3":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.video_box[data-v-60115dc6]{width:100%;height:100vh;padding:%?20?%;background:#f3f4f7}.video_box .title_name[data-v-60115dc6]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background:#fff;padding:%?10?% %?10?% 0;font-size:%?34?%;font-weight:700;color:#000}.video_box .video_data[data-v-60115dc6]{width:100%;height:%?400?%;background:#87ceeb;border-radius:%?10?%}.video_box .video_data .video_tag[data-v-60115dc6]{width:100%;height:100%}.video_box .icon[data-v-60115dc6]{font-size:%?46?%}.video_box .icon_box[data-v-60115dc6]{width:100%;display:flex;align-items:center;justify-content:space-between;background:#fff;padding:%?10?%}.video_box .icon_box .icon_item[data-v-60115dc6]{width:%?80?%;display:flex;align-items:center;justify-content:space-between}.video_box .icon_box .icon_item .look_icon[data-v-60115dc6]{width:%?50?%;height:%?50?%;margin-right:%?10?%}.video_box .icon_box .icon_item .set_icon[data-v-60115dc6]{width:%?50?%;height:%?50?%;margin-left:%?20?%}.video_box .icon_box .icon_item span[data-v-60115dc6]{display:flex;align-items:center;margin-left:%?20?%}.video_box .icon_box .set_icon_item[data-v-60115dc6]{display:flex;align-items:center}.video_box .icon_box .set_icon_item span[data-v-60115dc6]{display:flex;align-items:center;margin-left:%?20?%}',""]),t.exports=e},78967:function(t,e,i){"use strict";i.r(e);var a=i("8476"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8476:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d4b5");var n=i("2152"),o=i("a489"),d=a(i("9042")),s={data:function(){return{baseUrl:d.default.baseUrl,formData:{},detailId:"",pariseIsShow:!1,collectIsShow:!1,StudyIsShow:!1,alwaysTime:0,alwaysIsShow:!1,taskId:"",viewDuration:0}},onLoad:function(t){console.log(this.$store.state.user.patientId),this.detailId=t.itemId,this.taskId=t.taskId,this.handleDetail(),t.isView},methods:{confirm:function(t){if(t){var e={detailId:t,submitData:JSON.stringify({submitTime:(new Date).getTime(),content:"已观看视频"})};(0,o.patientSubmit)(e).then((function(t){console.log(t)}))}},handleTimeUpdate:function(t){var e=this;this.viewDuration=t.detail.duration;var i=Math.floor(t.detail.currentTime);console.log(i);var a=Math.abs(t.detail.duration-t.detail.currentTime);this.alwaysIsShow||(a<=1&&(this.alwaysIsShow=!0),this.alwaysIsShow&&((0,n.studyPage)({videoId:this.detailId,viewDuration:this.viewDuration,userId:this.$store.state.user.patientId}).then((function(t){e.handleDetail()})),this.confirm(this.taskId)),this.StudyIsShow||3==i&&(this.StudyIsShow=!0,this.confirm(this.taskId),(0,n.studyPage)({videoId:this.detailId,viewDuration:this.viewDuration,userId:this.$store.state.user.patientId}).then((function(t){e.handleDetail()}))))},handleEnded:function(){var t=this;(0,n.studyPage)({videoId:this.detailId,viewDuration:this.viewDuration,userId:this.$store.state.user.patientId}).then((function(e){t.handleDetail()}))},handleDetail:function(){var t=this;(0,n.detailPage)(this.detailId,{userId:this.$store.state.user.patientId}).then((function(e){t.formData=e.data,t.pariseIsShow=1==e.data.likeStatus,t.collectIsShow=1==e.data.pickStatus}))},handleParise:function(){var t=this;this.pariseIsShow=!this.pariseIsShow,(0,n.likePage)({videoId:this.detailId,userId:this.$store.state.user.patientId}).then((function(e){t.pariseIsShow?uni.showToast({title:"已点赞",icon:"none",duration:2e3}):uni.showToast({title:"已取消",icon:"none",duration:2e3}),t.handleDetail()}))},handleCollect:function(){var t=this;this.collectIsShow=!this.collectIsShow,(0,n.pickPage)({videoId:this.detailId,userId:this.$store.state.user.patientId}).then((function(e){t.collectIsShow?uni.showToast({title:"已收藏",icon:"none",duration:2e3}):uni.showToast({title:"已取消",icon:"none",duration:2e3}),t.handleDetail()}))}}};e.default=s},c9f5:function(t,e,i){var a=i("6dd3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("5bd13ca0",a,!0,{sourceMap:!1,shadowMode:!1})}}]);